import{A as be,F as $e,_ as ke,a as De,b as Se,c as Ie,d as Te,e as ze}from"./ContextMenuTrigger.vue_vue_type_script_setup_true_lang-BwnRl_c6.js";import{T as Be,a as ge,_ as Me,t as oe,o as ne,s as E,u as se,F as L,b as U,c as N,d as ae,e as le,f as ce,g as Oe}from"./RenameDialog.vue_vue_type_script_setup_true_lang-Cim12Utq.js";import{o as l,a as x,g as w,d as D,h as Z,i as C,w as o,j as K,m as T,u as t,e as G,k as Ae,l as Re,p as re,q as k,c as e,s as ee,n as X,v as he,t as q,b as F,x as H,F as j,y as ve,z as Pe,A as je,r as we,B as Le,C as Ue,L as Ne,I as O,D as ie,E as V,V as Ve,O as qe,H as Ee,G as He,_ as Ze,J as Ge,K as Je,M as Ke}from"./index-DBfi-iYF.js";import{u as We,a as M,F as ue,b as te,_ as de,c as _e,d as pe,e as me,f as Qe,g as Xe}from"./Input.vue_vue_type_script_setup_true_lang-D93yzfFd.js";import{R as Ye}from"./route-B2zbDueE.js";import{_ as et,a as tt,b as ot}from"./PopoverTrigger.vue_vue_type_script_setup_true_lang-B1qGrir7.js";import{_ as nt,a as st,b as at,c as lt}from"./CommandItem.vue_vue_type_script_setup_true_lang-C5yhIJWV.js";import{c as W,_ as Y,a as ct}from"./createLucideIcon-C5YStjzx.js";import{d as ye,v as rt,_ as it}from"./Switch.vue_vue_type_script_setup_true_lang-CA_1wzG7.js";import{_ as ut}from"./_plugin-vue_export-helper-DlAUqK2U.js";/**
 * @license lucide-vue-next v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=W("ArrowRightIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-vue-next v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=W("CheckCircle2Icon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-vue-next v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=W("FileUpIcon",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-vue-next v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=W("FolderPlusIcon",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-vue-next v0.341.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=W("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);function gt(_,n){return l(),x("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[w("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10 6.5C10 8.433 8.433 10 6.5 10C4.567 10 3 8.433 3 6.5C3 4.567 4.567 3 6.5 3C8.433 3 10 4.567 10 6.5ZM9.30884 10.0159C8.53901 10.6318 7.56251 11 6.5 11C4.01472 11 2 8.98528 2 6.5C2 4.01472 4.01472 2 6.5 2C8.98528 2 11 4.01472 11 6.5C11 7.56251 10.6318 8.53901 10.0159 9.30884L12.8536 12.1464C13.0488 12.3417 13.0488 12.6583 12.8536 12.8536C12.6583 13.0488 12.3417 13.0488 12.1464 12.8536L9.30884 10.0159Z",fill:"currentColor"})])}const ht=D({__name:"Label",props:{for:{},asChild:{type:Boolean},as:{},class:{}},setup(_){const n=_,a=Z(()=>{const{class:c,...s}=n;return s});return(c,s)=>(l(),C(t(Ae),T(a.value,{class:t(G)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",n.class)}),{default:o(()=>[K(c.$slots,"default")]),_:3},16,["class"]))}}),vt=["src"],wt={class:"w-full h-full bg-zinc-900 flex items-center justify-center"},yt={class:"flex flex-col gap-1"},xt={class:"flex font-medium text-sm opacity-80 select-none"},Ft={class:"flex text-xs opacity-30 select-none"},Ct=D({__name:"FlowsItem",props:{flow:{},selected:{type:Boolean}},emits:["onSelect"],setup(_,{emit:n}){const a=_,c=n,s=Z(()=>{var i;const f=(i=a.flow.thumbnail)==null?void 0:i.data;return f?f.startsWith("data:image")?f:`${Re}${f}`:void 0}),p=re();function m(){p.push({name:"Flow",params:{id:a.flow.id}})}const{shift:h}=We();function v(){h.value?c("onSelect"):m()}const u=k(!1);function y(){M("Flows::Refresh").emit()}const r=k(!1);function d(){M("Flows::Refresh").emit()}return(f,i)=>{const I=ke,$=De,b=Se,A=Ie,R=Te,P=Me,z=ze;return l(),x(j,null,[e(R,{onContextmenu:i[2]||(i[2]=ee(()=>{},["prevent"]))},{default:o(()=>[e(I,null,{default:o(()=>[w("div",{class:"group flex flex-col space-y-2 cursor-pointer",onClick:ee(v,["stop"]),onDblclick:m},[w("div",{class:X(["w-full aspect-video rounded-xl overflow-hidden transition-all",[f.selected&&"border-2 border-primary-500"]])},[t(s)?(l(),x("img",{key:0,src:t(s),class:"w-full h-full object-cover group-hover:scale-105 transition-all"},null,8,vt)):he("",!0),w("div",wt,[e(t(Ye),{size:24,class:"opacity-30 -rotate-45 group-hover:scale-110 transition-all"})])],2),w("div",yt,[w("div",xt,q(f.flow.name),1),w("div",Ft,q(f.flow.description),1)])],32)]),_:1}),e(A,{class:"w-44"},{default:o(()=>[e($,{onClick:m},{default:o(()=>[e(t(be),{size:15,class:"mr-1.5 opacity-60"}),F(" 打开工作流 ")]),_:1}),e(b),e($,{onClick:i[0]||(i[0]=g=>u.value=!0)},{default:o(()=>[e(t(Be),{size:15,class:"mr-1.5 opacity-60"}),F(" 重命名 ")]),_:1}),e($,null,{default:o(()=>[e(t($e),{size:15,class:"mr-1.5 opacity-60"}),F(" 设置封面 ")]),_:1}),e(b),e($,{onClick:i[1]||(i[1]=g=>r.value=!0)},{default:o(()=>[e(t(ge),{size:15,class:"mr-1.5 opacity-60"}),F(" 删除 ")]),_:1})]),_:1})]),_:1}),e(P,{"dialog-open":t(u),"onUpdate:dialogOpen":i[3]||(i[3]=g=>H(u)?u.value=g:null),flow:f.flow,onOnUpdate:y},null,8,["dialog-open","flow"]),e(z,{open:t(r),"onUpdate:open":i[4]||(i[4]=g=>H(r)?r.value=g:null),flows:[f.flow],onOnDeleted:d},null,8,["open","flows"])],64)}}}),bt={class:"w-full"},$t={key:0,class:"flows-grid"},kt={key:1,class:"flex items-center justify-center h-[calc(100vh-300px)] text-center text-zinc-600"},Dt=D({__name:"FlowsContainer",props:{currentFolder:{}},setup(_){const n=_,a=k([]),c=k([]),s=Z(()=>c.value.map(u=>u.id));async function p(){var u;return await ue.query({folderId:(u=n.currentFolder)==null?void 0:u.id})}async function m(){a.value=await p()}function h(u){const y=c.value.findIndex(r=>r.id===u.id);y===-1?c.value.push(u):c.value.splice(y,1)}function v(u){u.stopPropagation(),c.value=[]}return ve(async()=>{await m(),document.addEventListener("click",v)}),Pe(()=>{document.removeEventListener("click",v)}),je(()=>n.currentFolder,async()=>{await m()}),M("Flows::Refresh").on(async()=>{await m()}),(u,y)=>{const r=Ct;return l(),x("div",bt,[t(a).length?(l(),x("div",$t,[(l(!0),x(j,null,we(t(a),d=>(l(),C(r,{key:d.id,flow:d,selected:t(s).includes(d.id),onOnSelect:f=>h(d)},null,8,["flow","selected","onOnSelect"]))),128))])):(l(),x("div",kt," 还没有工作流~ "))])}}}),xe=D({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(_){const n=_;return(a,c)=>(l(),C(t(Ne),Le(Ue(n)),{default:o(()=>[K(a.$slots,"default")]),_:3},16))}}),St=D({__name:"NewFolder",setup(_){const n=k(!1),a=oe(ne({name:E().min(2).max(50),desc:E().optional()})),s=se({validationSchema:a}).handleSubmit(async p=>{const m=p.name,h=p.desc??"";await te.create({name:m,description:h})?(O.success("文件夹创建成功"),n.value=!1,M("Folders::Refresh").emit()):O.error("文件夹创建失败, 请重试")},()=>{O.error("文件夹名称必须在 2 到 50 个字符之间")});return(p,m)=>{const h=Y,v=xe,u=ae,y=le,r=de,d=_e,f=ce,i=pe,I=me,$=ie("auto-animate");return l(),C(I,{open:t(n),"onUpdate:open":m[1]||(m[1]=b=>H(n)?n.value=b:null)},{default:o(()=>[e(v,{"as-child":""},{default:o(()=>[e(h,{class:"w-full rounded-[3px]"},{default:o(()=>[e(t(mt),{size:16,class:"mr-1.5"}),F(" 新建文件夹 ")]),_:1})]),_:1}),e(i,{class:"w-[480px]"},{default:o(()=>[e(y,null,{default:o(()=>[e(u,null,{default:o(()=>[F("新建文件夹")]),_:1})]),_:1}),w("form",{class:"space-y-4",onSubmit:m[0]||(m[0]=(...b)=>t(s)&&t(s)(...b))},[e(t(L),{name:"name"},{default:o(({componentField:b})=>[V((l(),C(t(U),null,{default:o(()=>[e(t(N),null,{default:o(()=>[e(r,T({autofocus:"",placeholder:"文件夹名称",class:"col-span-3"},b),null,16)]),_:2},1024)]),_:2},1024)),[[$]])]),_:1}),e(t(L),{name:"desc"},{default:o(({componentField:b})=>[V((l(),C(t(U),null,{default:o(()=>[e(t(N),null,{default:o(()=>[e(d,T({placeholder:"文件夹描述 [可选]",class:"col-span-3"},b),null,16)]),_:2},1024)]),_:2},1024)),[[$]])]),_:1}),e(f,null,{default:o(()=>[e(h,{type:"submit",onClick:t(s)},{default:o(()=>[F("确定")]),_:1},8,["onClick"])]),_:1})],32)]),_:1})]),_:1},8,["open"])}}}),It=D({__name:"Separator",props:{orientation:{},decorative:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(_){const n=_,a=Z(()=>{const{class:c,...s}=n;return s});return(c,s)=>(l(),C(t(Ve),T(a.value,{class:t(G)("shrink-0 bg-border",n.orientation==="vertical"?"w-px h-full":"h-px w-full",n.class)}),null,16,["class"]))}}),Tt=D({__name:"CommandEmpty",props:{asChild:{type:Boolean},as:{},class:{}},setup(_){const n=_,a=Z(()=>{const{class:c,...s}=n;return s});return(c,s)=>(l(),C(t(qe),T(a.value,{class:t(G)("py-6 text-center text-sm",n.class)}),{default:o(()=>[K(c.$slots,"default")]),_:3},16,["class"]))}}),zt={class:"flex items-center border-b px-3","cmdk-input-wrapper":""},Bt=D({inheritAttrs:!1,__name:"CommandInput",props:{type:{},disabled:{type:Boolean},autoFocus:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(_){const n=_,a=Z(()=>{const{class:s,...p}=n;return p}),c=Ee(a);return(s,p)=>(l(),x("div",zt,[e(t(gt),{class:"mr-2 h-4 w-4 shrink-0 opacity-50"}),e(t(He),T({...t(c),...s.$attrs},{"auto-focus":"",class:t(G)("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",n.class)}),null,16,["class"])]))}}),Mt={class:"flex items-center justify-between w-full"},Ot={class:"flex items-center gap-2 opacity-0 group-hover:opacity-100"},At={key:1,class:"p-2"},Rt=w("span",{class:"flex items-center justify-center w-full h-20 text-sm text-muted-foreground select-none"}," 没有文件夹 ",-1),fe=D({__name:"FoldersCombobox",emits:["onFolderChange"],setup(_,{emit:n}){const a=n,c=k(!1),s=k([]),p=k();async function m(){return await te.queryAll()}async function h(){s.value=await m()}async function v(y){await te.delete(y),await h()}function u(y){p.value=y,a("onFolderChange",y)}return ve(async()=>{await h()}),M("Folders::Refresh").on(async()=>{await h()}),(y,r)=>{const d=Y,f=et,i=Bt,I=Tt,$=nt,b=Ze,A=Ge,R=Je,P=Ke,z=It,g=St,J=st,Q=at,S=lt,Fe=tt,Ce=ot;return l(),C(Ce,{open:t(c),"onUpdate:open":r[1]||(r[1]=B=>H(c)?c.value=B:null)},{default:o(()=>[e(f,{"as-child":""},{default:o(()=>[e(d,{variant:"outline",size:"sm",class:"w-[180px] justify-between"},{default:o(()=>[t(p)?(l(),x(j,{key:0},[F(q(t(p).name),1)],64)):(l(),x(j,{key:1},[F("全部")],64)),e(t(dt),{class:"opacity-50",size:15})]),_:1})]),_:1}),e(Fe,{class:"p-0 w-60",side:"right",align:"start"},{default:o(()=>[e(S,null,{default:o(()=>[t(s).length>0?(l(),x(j,{key:0},[e(i,{placeholder:"搜索文件夹.."}),e(Q,null,{default:o(()=>[e(I,null,{default:o(()=>[F("没有找到文件夹")]),_:1}),e(J,null,{default:o(()=>[e($,{class:"cursor-pointer hover:bg-primary-foreground hover:text-primary-background",value:"all",onSelect:r[0]||(r[0]=()=>{u(void 0),c.value=!1})},{default:o(()=>[F(" 全部 ")]),_:1}),e(P,null,{default:o(()=>[(l(!0),x(j,null,we(t(s),B=>(l(),C(R,{"delay-duration":0},{default:o(()=>[e(b,{as:"div"},{default:o(()=>[(l(),C($,{key:B.id,value:B.name,onSelect:()=>{u(B),c.value=!1},class:"group cursor-pointer hover:bg-primary-foreground hover:text-primary-background"},{default:o(()=>[w("span",Mt,[w("span",null,q(B.name),1),w("span",Ot,[e(d,{size:"icon",class:"w-6 h-6",variant:"destructive",onClick:ee(oo=>v(B.id),["stop"])},{default:o(()=>[e(t(ge),{size:14})]),_:2},1032,["onClick"])])])]),_:2},1032,["value","onSelect"]))]),_:2},1024),B.description?(l(),C(A,{key:0,side:"right"},{default:o(()=>[w("span",null,q(B.description),1)]),_:2},1024)):he("",!0)]),_:2},1024))),256))]),_:1}),e(z,{class:"my-1"}),e(g)]),_:1})]),_:1})],64)):(l(),x("div",At,[Rt,e(g)]))]),_:1})]),_:1})]),_:1},8,["open"])}}}),Pt={class:"flex justify-between w-full"},jt=D({__name:"FlowsFilter",setup(_){function n(a){M("Flows::Filter::Folder").emit(a)}return(a,c)=>{const s=fe;return l(),x("div",Pt,[e(s,{onOnFolderChange:n})])}}}),Lt=D({__name:"AlertDescription",props:{class:{}},setup(_){const n=_;return(a,c)=>(l(),x("div",{class:X(t(G)("text-sm [&_p]:leading-relaxed",n.class))},[K(a.$slots,"default")],2))}}),Ut=ct("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Nt=D({__name:"Alert",props:{class:{},variant:{}},setup(_){const n=_;return(a,c)=>(l(),x("div",{class:X(t(G)(t(Ut)({variant:a.variant}),n.class)),role:"alert"},[K(a.$slots,"default")],2))}}),Vt={class:"flex items-center justify-between w-full"},qt={class:"flex items-center gap-2"},Et=w("span",{class:"text-xs text-muted-foreground"},"选择文件夹",-1),Ht=D({__name:"ImportFlow",setup(_){const n=k(),{open:a,onChange:c}=Qe({accept:".json",multiple:!1});c(r=>{if(r&&r.length&&r[0]){const d=r[0];s(d)}}),M("Flows::ImportFlow").on(s);function s(r){const d=new FileReader;d.onload=async f=>{var I;const i=(I=f.target)==null?void 0:I.result;if(typeof i=="string")try{JSON.parse(i),n.value=i,p.value=!0}catch{O.error("无效的工作流文件")}},d.readAsText(r)}const p=k(!1),m=oe(ne({name:E().min(2).max(50),desc:E().optional()})),h=se({validationSchema:m}),v=k(),u=re(),y=h.handleSubmit(async r=>{const d=r.name,f=r.desc??"",i=await ue.create({name:d,description:f,folder:v.value,data:JSON.parse(n.value)??ye});i?(p.value=!1,u.push({name:"Flow",params:{id:String(i.id)}})):O.error("工作流创建失败, 请重试")},r=>{console.log(r),O.error("工作流标题必须在 2 到 50 个字符之间")});return(r,d)=>{const f=Y,i=ae,I=le,$=de,b=_e,A=Lt,R=Nt,P=fe,z=ce,g=pe,J=me,Q=ie("auto-animate");return l(),x(j,null,[e(f,{class:"w-44 gap-1",variant:"outline",size:"hg",onClick:t(a)},{default:o(()=>[e(t(pt),{size:16}),F(" 导入工作流 ")]),_:1},8,["onClick"]),e(J,{open:t(p),"onUpdate:open":d[2]||(d[2]=S=>H(p)?p.value=S:null)},{default:o(()=>[e(g,{class:"w-[480px]"},{default:o(()=>[e(I,null,{default:o(()=>[e(i,null,{default:o(()=>[F("导入工作流")]),_:1})]),_:1}),w("form",{class:"space-y-4",onSubmit:d[1]||(d[1]=(...S)=>t(y)&&t(y)(...S))},[e(t(L),{name:"name"},{default:o(({componentField:S})=>[V((l(),C(t(U),null,{default:o(()=>[e(t(N),null,{default:o(()=>[e($,T({autofocus:"",placeholder:"工作流标题",class:"col-span-3"},S),null,16)]),_:2},1024)]),_:2},1024)),[[Q]])]),_:1}),e(t(L),{name:"desc"},{default:o(({componentField:S})=>[V((l(),C(t(U),null,{default:o(()=>[e(t(N),null,{default:o(()=>[e(b,T({placeholder:"工作流描述 [可选]",class:"col-span-3"},S),null,16)]),_:2},1024)]),_:2},1024)),[[Q]])]),_:1}),e(R,{class:"flex items-center bg-zinc-900 select-none"},{default:o(()=>[e(t(_t),{class:"h-4 w-4 !top-3.5"}),e(A,{class:"!transform-none"},{default:o(()=>[F(q(t(n)?"已导入工作流数据":"没有导入工作流数据, 请关闭重试"),1)]),_:1})]),_:1}),e(z,null,{default:o(()=>[w("div",Vt,[w("span",qt,[Et,e(P,{onOnFolderChange:d[0]||(d[0]=S=>v.value=S==null?void 0:S.id)})]),e(f,{type:"submit",onClick:t(y)},{default:o(()=>[F("确定")]),_:1},8,["onClick"])])]),_:1})],32)]),_:1})]),_:1},8,["open"])],64)}}}),Zt={class:"flex items-center space-x-2"},Gt={class:"flex items-center justify-between w-full"},Jt={class:"flex items-center gap-2"},Kt=w("span",{class:"text-xs text-muted-foreground"},"选择文件夹",-1),Wt=D({__name:"NewFlow",setup(_){const n=k(!1),a=oe(ne({name:E().min(2).max(50),desc:E().optional(),useDefault:Oe().optional()})),c=se({validationSchema:a}),s=k(),p=re(),m=c.handleSubmit(async h=>{const v=h.name,u=h.desc??"",y=h.useDefault,r=await ue.create({name:v,description:u,folder:s.value,data:y?ye:rt});r?(n.value=!1,p.push({name:"Flow",params:{id:String(r.id)}})):O.error("工作流创建失败, 请重试")},h=>{console.log(h),O.error("工作流标题必须在 2 到 50 个字符之间")});return(h,v)=>{const u=Y,y=xe,r=ae,d=le,f=de,i=_e,I=it,$=ht,b=fe,A=ce,R=pe,P=me,z=ie("auto-animate");return l(),C(P,{open:t(n),"onUpdate:open":v[2]||(v[2]=g=>H(n)?n.value=g:null)},{default:o(()=>[e(y,{"as-child":""},{default:o(()=>[e(u,{class:"w-44 gap-1",variant:"outline",size:"hg"},{default:o(()=>[e(t(ft),{size:16}),F(" 新建工作流 ")]),_:1})]),_:1}),e(R,{class:"w-[480px]"},{default:o(()=>[e(d,null,{default:o(()=>[e(r,null,{default:o(()=>[F("新建工作流")]),_:1})]),_:1}),w("form",{class:"space-y-4",onSubmit:v[1]||(v[1]=(...g)=>t(m)&&t(m)(...g))},[e(t(L),{name:"name"},{default:o(({componentField:g})=>[V((l(),C(t(U),null,{default:o(()=>[e(t(N),null,{default:o(()=>[e(f,T({autofocus:"",placeholder:"工作流标题",class:"col-span-3"},g),null,16)]),_:2},1024)]),_:2},1024)),[[z]])]),_:1}),e(t(L),{name:"desc"},{default:o(({componentField:g})=>[V((l(),C(t(U),null,{default:o(()=>[e(t(N),null,{default:o(()=>[e(i,T({placeholder:"工作流描述 [可选]",class:"col-span-3"},g),null,16)]),_:2},1024)]),_:2},1024)),[[z]])]),_:1}),e(t(L),{name:"useDefault"},{default:o(({value:g,handleChange:J})=>[V((l(),C(t(U),null,{default:o(()=>[e(t(N),null,{default:o(()=>[w("div",Zt,[e(I,{id:"use-default",checked:g,"onUpdate:checked":J},null,8,["checked","onUpdate:checked"]),e($,{for:"use-default"},{default:o(()=>[F("使用默认工作流")]),_:1})])]),_:2},1024)]),_:2},1024)),[[z]])]),_:1}),e(A,null,{default:o(()=>[w("div",Gt,[w("span",Jt,[Kt,e(b,{onOnFolderChange:v[0]||(v[0]=g=>s.value=g==null?void 0:g.id)})]),e(u,{type:"submit",onClick:t(m)},{default:o(()=>[F("确定")]),_:1},8,["onClick"])])]),_:1})],32)]),_:1})]),_:1},8,["open"])}}}),Qt={},Xt={class:"flex justify-between w-full"},Yt={class:"flex gap-5"};function eo(_,n){const a=Wt,c=Ht;return l(),x("div",Xt,[w("div",Yt,[e(a),e(c)])])}const to=ut(Qt,[["render",eo]]),mo=D({__name:"Flows",setup(_){const n=k();M("Flows::Filter::Folder").on(s=>{n.value=s});const a=k(null),{isOverDropZone:c}=Xe(a,{dataTypes:["application/json"],onDrop:s=>{if(s&&s.length&&s[0]){const p=s[0];M("Flows::ImportFlow").emit(p)}}});return(s,p)=>{const m=to,h=jt,v=Dt;return l(),x("div",{ref_key:"flowsRef",ref:a,class:X(["flows gap-5",{drop:t(c)}])},[e(m),e(h),e(v,{"current-folder":t(n)},null,8,["current-folder"])],2)}}});export{mo as default};
